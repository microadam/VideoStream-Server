(function(C,i,v,m){function c(){if(!(this instanceof c))return new c(arguments);this.set.apply(this,!(1 in arguments)&&/ar/.test(h(arguments[0]))?arguments[0]:arguments)}function l(a,g,b,d,f,e){for(var h;a<=g;a+=b)h=(new c(this))[d](a),e.call(this,h[f](),h);return this}function h(a){return a===m||a===null?""+a:{}.toString.call(a).match(/\w+/g)[1].toLowerCase()}function o(a,g){for(var b=0;b!=a.length;++b)if(a[b]===g)return b;return-1}function p(a){return~~(a%100/10)==1?"th":[,"st","nd","rd"][a%10]||
"th"}function j(a,g,b){g-=(a=""+a).length;return(g>0?Array(g+1).join(b||0):"")+a}function D(a){b["to"+a+"String"]=function(){return this.toString(k[a])}}function E(a){b[a]=function(){return this._date[a].apply(this._date,arguments)}}function x(a){var g=a,a=a=="ampm"?"ampm":a.charAt(0).toUpperCase()+a.slice(1);b["get"+a]||(b["get"+a]=b[g]?function(){return this[g]()}:function(){return this._date["get"+a].call(this._date)});b["set"+a]||(b["set"+a]=b[g]?function(){return this[g].apply(this,arguments)}:
function(){this._date["set"+a].apply(this._date,arguments);return this});/^am|isot|timez/i.test(q[e])||(b["add"+a]=function(a){this[g](this[g]()+(a||1));return this},b["sub"+a]=function(a){this[g](this[g]()-(a||1));return this});b[g]||(b[g]=function(g){return 0 in arguments?(this["set"+a](g),this):this["get"+a]()});!/^UTC|[cw]e|one|AMPM|i?s?o?time[sz]|dayo/i.test(a)&&x("UTC"+a)}function y(a,g){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&").replace(r,function(a,b,f){b=c.REVERSE_FORMAT_PROCESSORS[f];
if(!b)return a;g.push(b[1]);return"("+b[0]+")"})}function z(a,b,c){for(var d=a.length,f,e=["Y","M","D","TH","TM","TS","TMS"],h=[12,30,24,60,60,1E3,1E3],b=b?"sub":"add";d--;)if(a[d]=a[d].match(/^(\d+)([,\.]\d+)?(\w)/),c&&(a[d][3]="T"+a[d][3]),a[d][3]==="W")this[b+s.D](+maches[d][0]*7);else if(this[b+s[a[d][3]]].call(this,+a[d][1]),(+a[d][2]||0)>0)f=AindexOf(e,+a[d][3])+1||e.length,this[b+s[e[f]]](+a[d][1]*h[f])}var r=/\%([OE])?([a-z%])/gi,t={},b,e;c.util={realTypeOf:h,arrIndexOf:o,getOrdinal:p,stringPad:j};
c.addParser=function(a,b,c){var d=h(c)=="number",d={test:a,parse:b,exp:v.call(arguments,2+d),length:d?c:arguments.length-2},f=d.exp[0];if(!f)throw Error("Missing type");return(t[f]||(t[f]=[])).push(d)};var k=c.TIME_FORMATS={COOKIE:"%A, %d-%b-%y %T %Z",ISO8601:"%Y-%m-%dT%T.%L%z",RFC822:"%a, %d %b %y %T %z",RFC850:"%A, %d-%b-%y %T %Z",RFC1036:"%a, %d %b %y %T %z",RFC1123:"%a, %d %b %Y %T %z",RFC2822:"%a, %d %b %Y %T %z",RFC3339:"%Y-%m-%dT%T%Z",RSS:"%a, %d %b %Y %T %z",W3C:"%Y-%m-%dT%T%Z",Locale:"%a %b %d %Y %T GMT%z (%Oz)",
GMT:"%a, %d %b %Y %T GMT",NCC1701:"%Y.%j"};c.FULLMONTHS=["January","February","March","April","May","June","July","August","September","October","November","December"];c.SHORTMONTHS=[];for(e in c.FULLMONTHS)c.SHORTMONTHS[e]=c.FULLMONTHS[e].substr(0,3);c.FULLDAYS=["Sun","Mon","Tues","Wednes","Thurs","Fri","Satur"];c.SHORTDAYS=[];for(e in c.FULLDAYS)c.SHORTDAYS[e]=c.FULLDAYS[e].substr(0,3),c.FULLDAYS[e]+="day";b=c.prototype={constructor:c,set:function(){var a=!(1 in arguments)&&/ar/.test(h(arguments[0]))?
arguments[0]:arguments,b=h(a[0]);if(0 in a)if(a[0]instanceof c)return this.copy(a[0]);else if(!(1 in a)&&/numb|date/.test(b))this._date=new i(a[0]);else if(b=="number"&&h(a[1])=="number")this._date=new i(a[0],a[1],a[2]||1,a[3]||0,a[4]||0,a[5]||0,a[6]||0);else if(b=t[b])for(var w=0,d;d=b[w];++w){var f=d.length;if(!(a.length<d.length)){if(f>1)for(;f--;)a[f]!==m&&h(a[f]);if(d.test.apply(this,a))return this._date=new i,this.setTimezoneToLocale(),d.parse.apply(this,arguments)}}else throw Error("Invalid Date");
else this._date=new i;this.setTimezoneToLocale();return a[7]?this.timezone(a[7]).hours(a[3]):this.setTimezoneToLocale()},clone:function(){return(new c(+this)).timezone(this.timezone())},copy:function(a){return this.set(+a).timezone(a.getTimezoneOffset())},timeStamp:function(a){return 0 in arguments?(this._date=new i(a*1E3),this):~~(+this/1E3)},century:function(a){return 0 in arguments?this.fullYear(""+(a-1)+j(this.year(),2)):-~(""+this.fullYear()).substr(0,2)},isLeapYear:function(a){return(new i(a||
this.fullYear(),1,29)).getDate()==29},year:function(a){return 0 in arguments?this.fullYear(+(""+a).substr(0,2)+2E3):+(""+this.fullYear()).substr(2)},UTCYear:function(a){return 0 in arguments?this.UTCFullYear(+(""+a).substr(0,2)+2E3):+(""+this.UTCFullYear()).substr(2)},month:function(a){if(0 in arguments){var b;h(a)=="string"?(b=o(c.FULLMONTHS,a),b=b!==-1?b:o(c.SHORTMONTHS,a)):b=+a;this._date.setMonth(b);return this}return this._date.getMonth()},getMonth:function(a){return this.month()+(a?1:0)},oneIndexedMonth:function(a){return 0 in
arguments?this.month(a-1):this.month()+1},getMonthName:function(a){return c[a?"FULLMONTHS":"SHORTMONTHS"][this.month()]},getFullMonthName:function(){return this.getMonthName(!0)},getLastDayOfMonth:function(){var a=new i(this._date);a.setMonth(a.getMonth()+1);a.setDate(-1);return a.getDate()+1},week:function(a){var b=new i(this.fullYear(),0,1),c;if(0 in arguments)return this.setDay(1);c=(+this-b)/864E5+0.5|0;c+=b.getDay();c/=7;c-=1;c=Math.ceil(c);c+=this.isLeapYear();return c>0?c:52+c},getWeekOrdinal:function(){return p(this.week())},
eachWeekOfMonth:function(a){return l.call(this,this.clone().date(1).week(),this.clone().date(this.getLastDayOfMonth()).week(),1,"week","week",a)},eachWeekOfYear:function(a){return l.call(this,0,53,1,"week","week",a)},day:function(a,b){if(0 in arguments){var c=this.getDay();return this.date(this.date()-(b?c<a?a-c:7-(a-c):c<a?a-c:7-(a-c)))}return this._date.getDay()},ISODay:function(a){if(0 in arguments)return this.day(a===7?0:a-1);var b=this.day();return b-1<0?7:b-1},getDayName:function(a){return c[a?
"FULLDAYS":"SHORTDAYS"][this.day()]},getFullDayName:function(){return this.getDayName(!0)},dayOfYear:function(a){if(0 in arguments)return this.month(0).date(a);for(var a=this.date(),b=this.month(),c=this.clone();b--;)a+=c.month(b+1).date(-1).date()+1;return a},getDateOrdinal:function(){return p(this.date())},eachDayOfMonth:function(a){return l.call(this,1,this.getLastDayOfMonth(),1,"date","date",a)},eachDayOfYear:function(a){return l.call(this,1,365+this.isLeapYear(),1,"dayOfYear","dayOfYear",a)},
hours:function(a){if(0 in arguments)return this.UTCHours(+a+~~(-this.TIMEZONE/60));a=this.getUTCHours()+this.TIMEZONE/60;return a==24?0:a},ordinalHours:function(a){return 0 in arguments?this.hours(this.AMPM()==="PM"?a+12:a):(a=this.hours())?a>12?a-12:a:12},UTCOrdinalHours:function(a){return 0 in arguments?this.UTCHours(this.AMPM()==="PM"?a+12:a):(a=this.UTCHours())?a>12?a-12:a:12},minutes:function(a){return 0 in arguments?this.UTCMinutes(+a+-this.TIMEZONE%60):this.getUTCMinutes()+this.TIMEZONE%60},
microSeconds:function(a){return 0 in arguments?this.milliseconds(~~(a/1E3)):this.milliseconds()*1E3},UTCMicroSeconds:function(a){return 0 in arguments?this.UTCMilliseconds(~~(a/1E3)):this.getUTCMilliseconds()*1E3},AMPM:function(a){return 0 in arguments?this.hours(this.hours()+(this.AMPM()===a.toUpperCase()?0:/am/i.test(a)?-12:12)):this.hours()>11?"PM":"AM"},ampm:function(a){return 0 in arguments?this.AMPM(a):this.AMPM().toLowerCase()},timeString:function(a){return 0 in arguments?(a=a.split(":"),this.hours(a[0]).minutes(a[1]).seconds(a[2]),
this):[j(this.hours(),2),j(this.minutes(),2),j(this.seconds(),2)].join(":")},clearTime:function(){return this.timeString("00:00:00").milliseconds(0)},setTimeToNow:function(){var a=new i;return this.hours(a.getHours()).minutes(a.getMinutes()).seconds(a.getSeconds()).milliseconds(a.getMilliseconds())},timezoneOffset:function(a){return 0 in arguments?(this.TIMEZONE=-a,this):-this.TIMEZONE},setTimezoneToLocale:function(){return this.timezone(this._date.getTimezoneOffset())},timezone:function(a){if(h(a)===
"number")return this.timezoneOffset(a);if(0 in arguments){if(/^[zZ0]$/.test(a))return this.timezoneOffset(0);var a=(""+a).match(/^(.)(\d{2}).?(\d{2})$/),b=~~(+a[2]*60)+~~+a[3];return this.timezoneOffset(a[1]==="-"?b:-b)}a=this.TIMEZONE;a<0&&(a=-a);return(this.TIMEZONE<0?"-":"+")+j(~~(a/60),2)+j(~~(a%60),2)},ISOTimezone:function(a){return 0 in arguments?this.timezone(a):this.timezone().replace(/(\d{2})$/,":$1")},isDST:function(){return c(this.fullYear(),0).TIMEZONE<this.TIMEZONE||c(this.fullYear(),
5).TIMEZONE<this.TIMEZONE},toString:function(a){a||(a="%a %b %d %Y %T %z");var b=this;k[a]&&(a=k[a]);return a.replace(r,function(a,d,f){d=c.FORMAT_PROCESSORS[f];return!d?a:h(d)=="array"?j(d[0].call(b),d[1],d[2]):h(d)=="function"?d.call(b):b.toString.call(b,d)})},isEqual:function(){return+this==+b.set.apply(new c,arguments)},isBefore:function(){return+this<+b.set.apply(new c,arguments)},isAfter:function(){return+this>+b.set.apply(new c,arguments)}};for(e in k)D(e);var A=["toDateString","toLocaleDateString",
"toLocaleTimeString","toLocaleString","toTimeString","toUTCString","toGMTString","valueOf"];for(e=A.length;e--;)E(A[e]);var q=["year","fullYear","month","oneIndexedMonth","week","day","ISODay","date","dayOfYear","hours","ordinalHours","minutes","seconds","milliseconds","microSeconds","time","timezone","timezoneOffset","ISOTimezone","timeStamp","AMPM","ampm","century"];for(e=q.length;e--;)x(q[e]);b.addYear=b.addFullYear;b.subYear=b.subFullYear;b.toJSON=b.toISO8601String;c.now=i.now;c.FORMAT_PROCESSORS=
{a:b.getDayName,A:b.getFullDayName,b:b.getMonthName,B:b.getFullMonthName,c:"%a %b %d %T %Y",C:b.century,d:[b.date,2],D:"%m/%d/%y",e:[b.date,2," "],f:[b.microSeconds,6],F:"%Y-%m-%d",g:b.year,G:b.fullYear,h:"%b",H:[b.hours,2],I:[b.ordinalHours,2],j:[b.dayOfYear,3],k:[b.hours,2," "],l:[b.ordinalHours,2," "],L:[b.milliseconds,3],m:[b.oneIndexedMonth,2],M:[b.minutes,2],n:"\n",o:b.getDateOrdinal,p:b.AMPM,P:b.ampm,r:"%I:%M:%S %p",R:"%H:%M",s:b.timeStamp,S:[b.seconds,2],t:"\t",T:b.timeString,u:b.ISODay,U:[b.week,
2],V:"%U",w:b.day,W:"%U",y:[b.year,2],Y:b.fullYear,z:b.getTimezone,Z:b.getISOTimezone,"%":"%"};c.REVERSE_FORMAT_PROCESSORS={a:["(?:"+c.SHORTDAYS.join("|")+")?,?"],A:["(?:"+c.FULLDAYS.join("|")+")?,?"],b:["(?:"+c.SHORTMONTHS.join("|")+")",b.month],B:["(?:"+c.FULLMONTHS.join("|")+")",b.month],C:["\\d{2}",b.century],d:["\\d{2}",b.date],D:["\\d{4}-\\d{2}-\\d{2}",""],e:["\\s?[\\d{1,2}]"],f:["\\d{6}",b.microseconds],F:["\\d{4}-\\d{2}-\\d{2}",""],g:["\\d{2}",""],G:["\\d{4}",""],h:["[^\\b]+",""],H:["\\d{2}",
b.hours],I:["\\d{2}",""],j:["\\d{3}",""],k:["(?:\\s|\\d)\\d",""],l:["(?:\\s|\\d)\\d",""],L:["\\d{3}",b.milliseconds],m:["\\d{2}",b.oneIndexedMonth],M:["\\d{2}",b.minutes],n:["\\n"],o:["th|td|st"],p:["AM|PM",b.ampm],P:["am|pm",b.ampm],r:["\\d{2}:\\d{2}:\\d{2} (am|pm)"],R:["(\\d{2}):(\\d{2})"],s:["\\d+",b.timeStamp],S:["\\d{2}",b.seconds],t:["\\t"],T:["\\d{2}:\\d{2}:\\d{2}",b.timeString],u:["\\d{2}",""],U:["\\d{2}",""],V:["\\d{2}",""],w:["\\d{2}",""],W:["\\d{2}",b.week],y:["\\d{2}",b.year],Y:["\\d{4}",
b.fullYear],z:["Z|GMT|(?:GMT)?[-+]\\d{2}\\:?\\d{2}",b.timezone],Z:["Z|GMT|(?:GMT)?[-+]\\d{2}\\:?\\d{2}",b.timezone],"%":["%"]};var u=[],n=[];for(e in k)u.push(e),n.push(y(k[e],[]));n=RegExp("^"+n.join("|")+"$");c.addParser(function(a,b){b=h(b)=="array"&&0 in b?b[0]:b;return!!k[b]||r.test(b)||!!n.test(a)},function(a,c){var e,d=[],f,i,j,c=c==m?u:c;if(h(c)=="array"){for(f=0;f!=c.length;f++)try{return this.set(a,c[f])}catch(l){}throw Error('Cannot parse "'+a+'" with "'+c+'"');}k[c]&&(c=k[c]);e=c?y(c,
d):u;e=a.match("^"+e+"$");if(!e)throw Error('Cannot parse "'+a+'" with "'+c+'"');for(f=e.length;f--;)if(!(d[f-1]===b.timezone&&(i=e[f])))d[f-1]===b.date&&(j=e[f])||h(d[f-1])=="function"&&d[f-1].call(this,e[f]);this.date(j);i!==m&&(this.setTimezoneToLocale(),d=this.hours(),this.timezone(i),this.hours(d));return this},1,"string","string");var B=/^([\+\-])?P((?:\d+(?:[,\.]\d+)?[YMWD])+)?(?:T((?:\d+(?:[,\.]\d+)?[HMS])+))?$/,s={Y:"FullYear",M:"Month",D:"Date",TH:"Hours",TM:"Minutes",TS:"Seconds",TMS:"Milliseconds"};
c.addParser(function(a){return B.test(a)},function(a,b){var c;1 in arguments&&this.set.apply(this,v.call(arguments,1));if(!(a=a.match(B)))return!1;a[2]&&(c=a[2].match(/\d+(?:[,\.]\d+)?[YMWD]/g))&&z.call(this,c,a[1]=="-");a[3]&&(c=a[3].match(/\d+(?:[,\.]\d+)?[HMS]/g))&&z.call(this,c,a[1]=="-",!0);return this},"string");typeof module!="undefined"&&module.exports?module.exports=c:typeof define=="function"&&define.amd?define("Tempus",[],function(){return c}):C.Tempus=c})(this,Date,[].slice);
